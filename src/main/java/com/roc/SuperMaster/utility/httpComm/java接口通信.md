# java接口通信

## 1.使用前的问题

### 1.1.HTTP和TCP/IP

​	TCP/IP是传输层协议，主要解决数据如何在网络中传输，而HTTP是应用层协议，主要解决如何包装数据。（关于TCP/IP和Http的关系，比较容易理解的介绍是：我们在传输数据时，使用的是传输层的TCP/IP协议，但这样的话，如果没有应用层，便无法识别数据内容。如果想要传输的有意义，则需要使用应用层协议，应用层的协议也有很多，比如HTTP，FTP，TELNET等，也可以自定义自己的应用层协议。WEB是使用HTTP协议作为应用协议，以封装HTTP文本信息，然后使用TCP/IP作为传输层协议将其发送至网络上。）

​	术语TCP/IP代表传输控制协议/网际协议，指的是一些协议，也有一种叫法，TCP/IP协议簇。IP代表网际协议，TCP和UDP使用该协议从一个网络上传输数据包到另一个网络。物理层和数据链路层搭建起网络，允许TCP/IP等网络层的协议充当运输卡车，携带应用层协议例如HTTP等包裹的货物进行通信。

​	HTTP超文本传输协议是利用TCP在两台电脑（通常指的是Web服务器和客户端）之间传输信息的协议。客户端使用Web浏览器发起HTTP请求给Web服务器，Web服务器发送被请求的信息给客户端。

传统的七层模型：

![image-20211214151734305](../../../../../../../../../MyNotes_Gitee/imgs/image-20211214151734305.png)

四层模型：

![image-20211214151820778](../../../../../../../../../MyNotes_Gitee/imgs/image-20211214151820778.png)

### 1.2.java RMI

**RMI：Remote Method Invocation远程方法调用**

它支持存储与不同地址空间的程序级别对象之间彼此的通信，实现远程对象之间的无缝远程调用。

RMI的交互图：

![image-20211214153233868](../../../../../../../../../MyNotes_Gitee/imgs/image-20211214153233868.png)

方法调用从客户对象经存根（stub）、远程引用层（Remote Reference Layer）和传输层（Transport Layer）向下，传递给主机，然后再次经传输层，向上穿过远程调用层和骨干网（Skeleton），到达服务器对象。

存根扮演着远程服务器对象的代理的角色，使该对象可被客户激活。

远程引用层处理语义、管理单一或多重对象的通信，决定调用是应发往一个服务器还是多个。

传输层管理实际的连接，并且追踪可以接受方法调用的远程对象。

骨干网完成对服务器对象实际的方法调用，并获取返回值。

返回值向下经远程引用层、服务器端的传输层传递回客户端，再向上经传输层和远程调用层返回。最后，存根获得返回值。

`RMI是基于java语言的，RMI适用于两个系统都主要使用java语言进行构造，不需要考虑跨语言的情况`

`RMI是一个良好的、特殊的RPC的实现。`

`RMI早在JDK1.1版本就已经开放了。`

详细描述请参考：[(1条消息) 系统间通信方式之（Java之RMI初步使用详解）（八）_南北雪树的专栏-CSDN博客_java rmi 通信](https://blog.csdn.net/u010963948/article/details/78522986?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.no_search_link&spm=1001.2101.3001.4242.1)

### 1.3.RPC和REST(ful)

1.RPC：远程过程调用，就是像调用本地方法一样调用远程方法，RESTful：一种架构风格

2.RPC催生出了微服务，而REST并没有创建新的结束。组件和服务仅是基于web现有的特征和能力，基于HTTP协议实现。

![image-20211214173521607](../../../../../../../../../MyNotes_Gitee/imgs/image-20211214173521607.png)

1.Rpc是基于自定义tcp 没有太多的垃圾数据 而httpclient 基于http协议，做请求响应，要模仿网页请求，访问服务端，报文头垃圾数据较多 简单直接快速开发 面对小企业特别好用 但是当服务特别多的时候就不那么好用

2.rpc框架都是基于面向服务的，封装了服务发现和函数代理调用，并且优化了效率。

### 1.4.SpringBoot调用其他项目接口

### 1.5.签名认证

### 1.6.SpringCloud服务间的接口调用

### 1.7.URI和URL

## 2.实现接口调用

2.1